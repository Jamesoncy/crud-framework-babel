{"version":3,"sources":["../app/app.js"],"names":["app","publicDir","set","__dirname","use","express","static","engine","require","renderFile","controllers","dir","match","recursive","map","name","path","isFile","requirAll","replace","_","each","routes","value","index","getApi","split","middleware","push","get","post","listen","console","log"],"mappings":"AAAA;;AACA;;AAEA;;;;AACA;;;;AACA;;AACA;;;;AAEA;;;;;;AAGA,IAAMA,MAAM,wBAAZ;AAAA,IACAC,YAAY,aADZ;AAJA;;AALA;;AAWAD,IAAIE,GAAJ,CAAQ,OAAR,EAAgBC,YAAYF,SAAZ,GAAuB,WAAvC;AACAD,IAAII,GAAJ,CAAQ,SAAR,EAAmBC,kBAAQC,MAAR,CAAeH,YAAYF,SAAZ,GAAsB,UAArC,CAAnB;AACAD,IAAII,GAAJ,CAAQ,WAAR,EAAqBC,kBAAQC,MAAR,CAAeH,YAAYF,SAAZ,GAAsB,WAArC,CAArB;AACAD,IAAIO,MAAJ,CAAW,MAAX,EAAmBC,QAAQ,KAAR,EAAeC,UAAlC;AACA;;AAEA,IAAIC,cAAc,uBAAU;AAC3BC,MAAK,0BADsB,EACM;AACjCC,QAAO,kBAFoB;AAG3BC,YAAW,KAHgB;AAI3BC,MAAK,aAACC,IAAD,EAAOC,IAAP,EAAaC,MAAb;AAAA,SAAyBC,kBAAUJ,GAAV,CAAcC,IAAd,EAAoBC,IAApB,EAA0BC,MAA1B,EAAkCE,OAAlC,CAA0C,cAA1C,EAAyD,EAAzD,CAAzB;AAAA;AAJsB,CAAV,CAAlB;;AAOAC,qBAAEC,IAAF,CAAOC,gBAAP,EAAe,UAASC,KAAT,EAAgBC,KAAhB,EAAsB;AACpC,KAAIC,SAASD,MAAME,KAAN,CAAY,GAAZ,CAAb;AAAA,KACAV,OAAOO,MAAMG,KAAN,CAAY,GAAZ,CADP;AAAA,KAEAC,aAAa,EAFb;;AAIAA,YAAWC,IAAX,CAAgBlB,YAAYM,KAAK,CAAL,CAAZ,EAAqBA,KAAK,CAAL,CAArB,CAAhB;AACA,KAAGS,OAAO,CAAP,KAAa,KAAhB,EAAsB;AACrBzB,MAAI6B,GAAJ,CAAQJ,OAAO,CAAP,CAAR,EAAmB,gCAAQE,UAAR,CAAnB;AACA,EAFD,MAEM,IAAIF,OAAO,CAAP,KAAa,MAAjB,EAAwB;AAC7BzB,MAAI8B,IAAJ,CAASL,OAAO,CAAP,CAAT,EAAoB,gCAAQE,UAAR,CAApB;AACA;AACD,CAXD;;AAaA3B,IAAI+B,MAAJ,CAAW,IAAX,EAAiB,YAAU;AAC1BC,SAAQC,GAAR,CAAY,kBAAkB,IAA9B;AACA,CAFD","file":"app.js","sourcesContent":["'use strict'\r\nimport \"babel-polyfill\";\r\n//modules\r\nimport express from 'express'\r\nimport requirAll from 'require.all'\r\nimport {compose} from 'compose-middleware'\r\nimport _ from 'underscore'\r\n//files\r\nimport routes from './application/config/routes'\r\n\r\n\r\nconst app = express(),\r\npublicDir = './../public'\r\napp.set('views',__dirname + publicDir+ '/template')\r\napp.use('/public', express.static(__dirname + publicDir+'/plugins'));\r\napp.use('/partials', express.static(__dirname + publicDir+'/template'));\r\napp.engine('html', require('ejs').renderFile)\r\n// app.set('view engine', 'ejs')\r\n\r\nlet controllers = requirAll({\r\n\tdir: './application/controller', //only files that end with 'controller.js' \r\n\tmatch: /Controller\\.js$/i,\r\n\trecursive: false,\r\n\tmap: (name, path, isFile ) => requirAll.map(name, path, isFile).replace(/Controller$/i,'')\r\n})\r\n\r\n_.each(routes, function(value, index){\r\n\tlet getApi = index.split(\" \"),\r\n\tpath = value.split(\".\"),\r\n\tmiddleware = []\r\n\r\n\tmiddleware.push(controllers[path[0]][path[1]])\r\n\tif(getApi[0] == \"GET\"){\r\n\t\tapp.get(getApi[1], compose(middleware))\r\n\t}else if (getApi[0] == \"POST\"){\r\n\t\tapp.post(getApi[1], compose(middleware));\r\n\t}\r\n})\r\n\r\napp.listen(4200, function(){\r\n\tconsole.log('running port ' + 4200)\r\n})"]}